# Getting started with edge_to_edge_system_ui

This document explains the minimal steps to initialize and use the
`edge_to_edge_system_ui` plugin in a Flutter app and describes the
`routeObserver` requirement for per-route style restoration.

## Initialize the plugin

Call `initialize()` early, for example in `main()` before `runApp`:

```dart
void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  await EdgeToEdgeSystemUIKotlin.instance.initialize();
  runApp(const MyApp());
}
```

This primes the plugin with device/platform capabilities used by other
convenience methods.

## Basic usage

- Query system info (insets, API level):

```dart
final info = await EdgeToEdgeSystemUIKotlin.instance.getSystemInfo();
print('Nav height: ${info.navigationBarsHeight}');
```

- Enable/disable edge-to-edge at runtime:

```dart
await EdgeToEdgeSystemUIKotlin.instance.enableEdgeToEdge();
await EdgeToEdgeSystemUIKotlin.instance.disableEdgeToEdge();
```

- Apply colors and let the package compute icon brightness:

```dart
await EdgeToEdgeSystemUIKotlin.instance.setSystemUIStyleForColors(
  statusBarColor: Colors.white,
  navigationBarColor: Colors.black,
);
```

- Low-level API accepting ARGB ints (advanced):

```dart
await EdgeToEdgeSystemUIKotlin.instance.setSystemUIStyle(
  statusBarColor: 0xFFFFFFFF,
  navigationBarColor: 0xFF000000,
  statusBarLight: false,
  navigationBarLight: true,
);
```

## Per-route automatic style restoration

To let the package automatically restore previous system UI styles when
routes are popped, register the package-provided `routeObserver` on your
app's top-level `MaterialApp` (or on the `Navigator` you want the plugin to
track):

```dart
MaterialApp(
  // ...
  navigatorObservers: [routeObserver],
)
```

This is required because route lifecycle events are only delivered to
observers registered on the same `Navigator` instance that owns the route.
Registering `routeObserver` ensures the plugin's `RouteAware` listeners
receive push/pop notifications and can restore styles automatically.

## Example

See `example/lib/main.dart` (and other files under `example/lib`) for a
complete demo application that exercises the plugin APIs.

## Publishing note

The API docs generated by `dartdoc` are placed into `doc/api`. The
`doc/` directory should contain authored guides (like this one). Do not
check in generated API docs; they are produced by the doc tool.

---

More details and examples are provided in the `example/` directory.
